@import url("https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap");

.link-tool {
  position: relative;
  font-family: "Roboto", sans-serif;

  &__input {
    padding-left: 36px;
    background-image: url("data:image/svg+xml,%3Csvg width='512' height='512' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M96.356 236.658c16.535-17.067 39.341-26.17 63.288-26.17 23.946 0 46.752 9.103 63.857 26.17l6.842 6.258 12.543-12.516-6.841-6.258c-17.105-17.066-26.228-39.822-26.228-64.284 0-23.894 9.123-46.08 26.228-63.147l70.129-70.542C322.708 9.67 345.514 0 369.46 0c24.517 0 46.753 9.102 63.857 26.169l52.455 52.907C502.877 96.142 512 118.329 512 142.79c0 23.893-9.123 46.649-26.227 63.716l-70.13 69.973c-17.674 16.498-39.91 26.169-63.857 26.169-23.946 0-46.182-9.102-63.857-26.169l-5.702-6.827-13.113 12.516 6.271 6.827c16.535 16.497 26.227 39.822 26.227 63.715s-9.692 46.649-26.227 63.147l-68.989 69.973C188.722 502.33 166.486 512 142.54 512c-23.947 0-46.183-9.102-63.857-26.169l-52.455-52.338C9.123 415.858 0 393.671 0 369.21c0-23.893 9.123-46.08 26.227-63.147l70.13-69.404Zm232.054 0c12.543 12.515 35.35 12.515 48.463 0l68.989-69.974c6.842-6.826 10.263-14.79 10.263-23.893 0-9.102-3.421-17.635-10.263-23.893L392.837 65.99c-5.701-6.258-14.824-9.671-23.946-9.671-9.123 0-17.675 3.413-23.947 9.671l-70.129 69.973c-6.272 6.827-9.692 14.792-9.692 23.894 0 9.102 3.42 17.635 9.692 24.462l6.842 6.258 32.499-32.427c10.263-10.809 28.508-10.809 39.91 0 10.834 10.809 10.834 28.445 0 39.822L321.569 230.4l6.842 6.258ZM55.875 369.208c0 9.672 3.421 18.205 9.693 24.463l52.454 52.907c12.544 12.515 34.78 12.515 47.893 0l70.13-70.542c6.271-6.258 10.262-14.792 10.262-23.894 0-9.102-3.99-17.635-10.262-23.893l-6.272-6.827s-31.359 31.29-33.07 32.427c-10.832 10.809-28.507 10.809-39.34 0-11.403-10.809-11.403-28.445 0-39.822.57-1.707 32.499-32.427 32.499-32.427l-6.842-6.258c-5.702-6.826-14.824-10.24-23.946-10.24-9.123 0-17.675 3.982-23.947 10.24l-70.13 69.405c-5.7 7.395-9.122 15.36-9.122 24.462Z' fill='%235C6B7A' fill-rule='nonzero'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 10px;
    background-size: 16px 16px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    font-family: "Roboto", sans-serif;
    font-size: 14px;
    color: #2d3640;
    line-height: 1.3;
    height: 40px;
    border: 1px solid #d3dce6;
    transition: all 200ms ease-out;
    box-shadow: none;

    &:hover,
    &:focus-within {
      border-color: #0080ff;
    }

    &-holder {
      position: relative;
      z-index: 0;

      &--error {
        ^^& {
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath d='M96.356 236.658c16.535-17.067 39.341-26.17 63.288-26.17 23.946 0 46.752 9.103 63.857 26.17l6.842 6.258 12.543-12.516-6.841-6.258c-17.105-17.066-26.228-39.822-26.228-64.284 0-23.894 9.123-46.08 26.228-63.147l70.129-70.542C322.708 9.67 345.514 0 369.46 0c24.517 0 46.753 9.102 63.857 26.169l52.455 52.907C502.877 96.142 512 118.329 512 142.79c0 23.893-9.123 46.649-26.227 63.716l-70.13 69.973c-17.674 16.498-39.91 26.169-63.857 26.169-23.946 0-46.182-9.102-63.857-26.169l-5.702-6.827-13.113 12.516 6.271 6.827c16.535 16.497 26.227 39.822 26.227 63.715s-9.692 46.649-26.227 63.147l-68.989 69.973C188.722 502.33 166.486 512 142.54 512c-23.947 0-46.183-9.102-63.857-26.169l-52.455-52.338C9.123 415.858 0 393.671 0 369.21c0-23.893 9.123-46.08 26.227-63.147l70.13-69.404Zm232.054 0c12.543 12.515 35.35 12.515 48.463 0l68.989-69.974c6.842-6.826 10.263-14.79 10.263-23.893 0-9.102-3.421-17.635-10.263-23.893L392.837 65.99c-5.701-6.258-14.824-9.671-23.946-9.671-9.123 0-17.675 3.413-23.947 9.671l-70.129 69.973c-6.272 6.827-9.692 14.792-9.692 23.894 0 9.102 3.42 17.635 9.692 24.462l6.842 6.258 32.499-32.427c10.263-10.809 28.508-10.809 39.91 0 10.834 10.809 10.834 28.445 0 39.822L321.569 230.4l6.842 6.258ZM55.875 369.208c0 9.672 3.421 18.205 9.693 24.463l52.454 52.907c12.544 12.515 34.78 12.515 47.893 0l70.13-70.542c6.271-6.258 10.262-14.792 10.262-23.894 0-9.102-3.99-17.635-10.262-23.893l-6.272-6.827s-31.359 31.29-33.07 32.427c-10.832 10.809-28.507 10.809-39.34 0-11.403-10.809-11.403-28.445 0-39.822.57-1.707 32.499-32.427 32.499-32.427l-6.842-6.258c-5.702-6.826-14.824-10.24-23.946-10.24-9.123 0-17.675 3.982-23.947 10.24l-70.13 69.405c-5.7 7.395-9.122 15.36-9.122 24.462Z' fill='%23E09393' fill-rule='nonzero'/%3E%3C/svg%3E");
          background-color: #fff3f6;
          border-color: #f3e0e0;
          color: #a95a5a;
          box-shadow: inset 0 1px 3px 0 rgba(146, 62, 62, 0.05);
        }
      }
    }

    &[contentEditable="true"][data-placeholder]::before {
      position: absolute;
      content: attr(data-placeholder);
      color: #5c6b7a;
      font-weight: normal;
      font-size: 14px;
      line-height: 1.3;
      opacity: 0;
    }

    &[contentEditable="true"][data-placeholder]:empty {
      &::before {
        opacity: 1;
      }

      &:focus::before {
        opacity: 0;
      }
    }
  }

  &__button {
    -webkit-appearance: none;
    -moz-appearance: none;
    position: absolute;
    top: 4px;
    right: 4px;
    height: 32px;
    padding: 8px 10px 8px 8px;
    background-color: #0080ff;
    border: 1px solid #0073e6;
    color: #ffffff;
    font-size: 14px;
    line-height: 1.3;
    border-radius: 3px;
    cursor: pointer;

    display: inline-flex;
    justify-content: center;
    align-items: center;
    font-family: "Roboto", sans-serif;

    transition: background-color 200ms ease-out, border-color 200ms ease-out,
      color 200ms ease-out;

    &:hover {
      background-color: #0073e6;
      border: 1px solid #0066cd;
    }

    &::before {
      content: "";
      display: block;
      width: 16px;
      height: 16px;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 640 640'%3E%3Cpath fill='%23FFF' fill-rule='evenodd' d='M356 64v219.999L576 284v72H356v220h-72V356H64v-72h220V64h72Z'/%3E%3C/svg%3E");
      background-size: 16px 16px;
      background-repeat: no-repeat;
      background-position: center;
      margin-right: 6px;
    }
  }

  &__progress {
    position: absolute;
    box-shadow: inset 0 1px 3px 0 rgba(102, 85, 107, 0.04);
    height: 100%;
    width: 0;
    background-color: #e5f2ff;
    z-index: -1;

    &--loading {
      -webkit-animation: progress 500ms ease-in;
      -webkit-animation-fill-mode: forwards;
    }

    &--loaded {
      width: 100%;
    }
  }

  &__content {
    color: initial !important;
    text-decoration: none !important;
    border: 1px solid #d3dce6;
    border-radius: 6px;
    padding: 24px 24px 24px 32px;
    margin: 0 0 1em;
    width: 100%;
    background: #ffffff;
    display: flex;
    justify-content: space-between;

    &::after {
      content: "";
      clear: both;
      display: table;
    }

    &--rendered {
      will-change: filter;
      animation: link-in 450ms 1 cubic-bezier(0.215, 0.61, 0.355, 1);
    }
  }

  &__details {
    margin-right: 48px;
  }

  &__title {
    font-size: 16px;
    font-weight: 500;
    line-height: 1.3;
    color: #2d3640;
    margin-bottom: 12px;
  }

  &__description {
    font-size: 14px;
    line-height: 1.5;
    color: #2d3640;
    margin-bottom: 24px;
  }

  &__anchor {
    font-size: 14px;
    line-height: 1.1;
    color: #5c6b7a;
    margin: 0;
  }

  &__image {
    background-color: #ebf0f5;
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
    margin-left: auto;
    width: 100%;
    height: 64px;
    max-width: 64px;
    border-radius: 4px;
  }

  &--loading,
  &--loaded {
    .link-tool__button {
      display: none;
    }
  }
}

/* Editor.js */
#editorjs
  .ce-toolbar
  .ce-settings
  .ce-popover-item.ce-popover-item--active[data-item-name="edit-url"] {
  display: none;
}

@keyframes link-in {
  from {
    filter: blur(5px);
  }

  to {
    filter: none;
  }
}

.codex-editor--narrow .link-tool__image {
  display: none;
}

@-webkit-keyframes progress {
  0% {
    width: 0;
  }
  100% {
    width: 85%;
  }
}
